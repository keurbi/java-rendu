# Recipe App ğŸ³

Application de gestion de recettes de cuisine dÃ©veloppÃ©e avec SpringBoot et Firestore.

## ğŸ“‹ PrÃ©requis

- Java 17
- Maven 3.6+
- Compte Firebase/Google Cloud Platform

## ğŸš€ Installation et Configuration

### 1. Cloner le projet

```bash
git clone <votre-repo>
cd java-rendu
```

### 2. Configuration Firebase (Ã‰TAPE OBLIGATOIRE)

âš ï¸ **L'application ne dÃ©marrera pas sans cette configuration !**

1. **CrÃ©er un projet Firebase :**

   - Aller sur [Firebase Console](https://console.firebase.google.com/)
   - Cliquer sur "CrÃ©er un projet"
   - Donner un nom Ã  votre projet (ex: "recipe-app")

2. **Activer Firestore :**

   - Menu de gauche : "Firestore Database"
   - Cliquer sur "CrÃ©er une base de donnÃ©es"
   - Choisir "Commencer en mode test"

3. **CrÃ©er un Service Account :**

   - Aller dans Project Settings (âš™ï¸) > Service Accounts
   - Cliquer sur "Generate new private key"
   - TÃ©lÃ©charger le fichier JSON

4. **Configuration dans le projet :**
   - Renommer le fichier tÃ©lÃ©chargÃ© en `service-account-key.json`
   - Le placer dans `src/main/resources/firebase/service-account-key.json`
   - **âš ï¸ REMPLACER** le fichier existant (qui est un placeholder vide)
   - Copier votre PROJECT-ID depuis Firebase Console  
   - Modifier `src/main/resources/application.yml` :
     ```yaml
     firebase:
       project-id: VOTRE_PROJECT_ID_ICI  # âš ï¸ Remplacer cette ligne
     ```

### ğŸ”¥ IMPORTANT : VÃ©rifications

AprÃ¨s configuration, vÃ©rifiez que :
- âœ… Le fichier `service-account-key.json` contient des vraies donnÃ©es JSON (pas un placeholder)
- âœ… Le `project-id` dans `application.yml` correspond exactement Ã  celui de Firebase Console
- âœ… Le projet Firebase existe et Firestore est activÃ©

### 3. Lancement de l'application

```bash
# Compiler le projet
mvn clean compile

# Lancer l'application
mvn spring-boot:run
```

L'application sera disponible sur : http://localhost:8080

### 4. DonnÃ©es de dÃ©monstration

Au premier lancement, l'application crÃ©era automatiquement :

- 4 utilisateurs de test (admin, chef_marie, patissier_paul, sophie_cuisine)
- 8 catÃ©gories (EntrÃ©es, Plats principaux, Desserts, etc.)
- 4 recettes d'exemple avec instructions complÃ¨tes

## ğŸ—ï¸ Structure du Projet

```
src/main/java/com/example/recipeapp/
â”œâ”€â”€ RecipeAppApplication.java       # Classe principale
â”œâ”€â”€ controller/                     # Controllers Web
â”‚   â”œâ”€â”€ HomeController.java        # Page d'accueil et listes
â”‚   â”œâ”€â”€ RecipeController.java      # DÃ©tails recettes
â”‚   â”œâ”€â”€ CategoryController.java    # DÃ©tails catÃ©gories
â”‚   â”œâ”€â”€ UserController.java        # DÃ©tails utilisateurs
â”‚   â””â”€â”€ api/                       # API REST
â”‚       â”œâ”€â”€ RecipeApiController.java
â”‚       â”œâ”€â”€ CategoryApiController.java
â”‚       â””â”€â”€ UserApiController.java
â”œâ”€â”€ model/                         # EntitÃ©s
â”‚   â”œâ”€â”€ User.java                  # ModÃ¨le utilisateur
â”‚   â”œâ”€â”€ Recipe.java                # ModÃ¨le recette (avec ingrÃ©dients, instructions)
â”‚   â””â”€â”€ Category.java              # ModÃ¨le catÃ©gorie
â”œâ”€â”€ repository/                    # Repositories Firestore
â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”œâ”€â”€ RecipeRepository.java
â”‚   â””â”€â”€ CategoryRepository.java
â”œâ”€â”€ service/                       # Services mÃ©tier
â”‚   â”œâ”€â”€ UserService.java           # Logique utilisateurs
â”‚   â”œâ”€â”€ RecipeService.java         # Logique recettes
â”‚   â”œâ”€â”€ CategoryService.java       # Logique catÃ©gories
â”‚   â””â”€â”€ DataInitializationService.java # DonnÃ©es de dÃ©mo
â””â”€â”€ config/                        # Configuration
    â”œâ”€â”€ FirestoreConfig.java       # Configuration Firestore
    â””â”€â”€ PasswordConfig.java        # Encodage mots de passe

src/main/resources/
â”œâ”€â”€ templates/                     # Templates Thymeleaf
â”‚   â”œâ”€â”€ index.html                # Page d'accueil
â”‚   â”œâ”€â”€ recipes/                  # Pages recettes
â”‚   â”‚   â”œâ”€â”€ list.html            # Liste des recettes
â”‚   â”‚   â””â”€â”€ detail.html          # DÃ©tail d'une recette
â”‚   â”œâ”€â”€ categories/              # Pages catÃ©gories
â”‚   â”‚   â”œâ”€â”€ list.html           # Liste des catÃ©gories
â”‚   â”‚   â””â”€â”€ detail.html         # DÃ©tail d'une catÃ©gorie
â”‚   â”œâ”€â”€ users/                  # Pages utilisateurs
â”‚   â”‚   â”œâ”€â”€ list.html          # Liste des utilisateurs
â”‚   â”‚   â””â”€â”€ detail.html        # Profil utilisateur
â”‚   â””â”€â”€ error/                 # Pages d'erreur
â”‚       â”œâ”€â”€ 404.html
â”‚       â””â”€â”€ 500.html
â”œâ”€â”€ firebase/                   # Configuration Firebase
â”‚   â”œâ”€â”€ README.md              # Instructions Firebase
â”‚   â””â”€â”€ service-account-key.json # âš ï¸ Ã€ crÃ©er (voir instructions)
â””â”€â”€ application.yml            # Configuration Spring
â”œâ”€â”€ templates/                   # Templates Thymeleaf
â”œâ”€â”€ static/                     # Ressources statiques
â”œâ”€â”€ application.yml             # Configuration
â””â”€â”€ firebase/                   # ClÃ© de service Firebase
```

## ğŸ¯ FonctionnalitÃ©s

### âœ… TOUTES LES FONCTIONNALITÃ‰S IMPLÃ‰MENTÃ‰ES

- [x] **ModÃ¨les de donnÃ©es** : User, Recipe, Category avec relations
- [x] **Repositories Firestore** : AccÃ¨s donnÃ©es pour chaque modÃ¨le
- [x] **Services mÃ©tier** : Logique applicative et validation
- [x] **Controllers Web** : Pages HTML avec navigation
- [x] **API REST** : Endpoints JSON pour tous les modÃ¨les
- [x] **Interface utilisateur** : Templates Thymeleaf + Tailwind CSS
- [x] **DonnÃ©es d'exemple** : 9 recettes rÃ©alistes, 6 catÃ©gories, 3 utilisateurs
- [x] **Pages d'erreur** : 404, 500 personnalisÃ©es
- [x] **Configuration complÃ¨te** : Firestore, sÃ©curitÃ©, logs

### ğŸš€ STATUS : PROJET TERMINÃ‰

**L'application est 100% fonctionnelle** âœ…  
**Seule Ã©tape restante :** Configuration Firebase (5 minutes)

## ğŸ› ï¸ Technologies UtilisÃ©es

- **Backend** : Spring Boot 3.1.2, Spring Security, Spring Web
- **Frontend** : Thymeleaf, Tailwind CSS
- **Base de donnÃ©es** : Google Firestore
- **Build** : Maven
- **Java** : 17

## ğŸ“ Notes de DÃ©veloppement

Cette application est en cours de dÃ©veloppement selon un plan en 6 phases :

1. âœ… Setup Initial
2. ğŸ”„ ModÃ¨les et Repositories
3. ğŸ“‹ Services et Controllers
4. ğŸ“‹ Frontend
5. ğŸ“‹ CRUD et API
6. ğŸ“‹ Finalisation

Voir `PLAN_PROJET.md` pour plus de dÃ©tails.

## ğŸš¨ Points d'Attention

- Ne pas commiter le fichier `service-account-key.json` (ajoutÃ© au .gitignore)
- Configurer correctement le project-id Firebase
- Tester la connexion Firestore avant de continuer

## ğŸ“ Contact

Projet dÃ©veloppÃ© dans le cadre d'un exercice SpringBoot avec Firestore.
