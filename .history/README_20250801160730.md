# Recipe App 🍳

Application de gestion de recettes de cuisine développée avec SpringBoot et Firestore.

## 📋 Prérequis

- Java 17
- Maven 3.6+
- Compte Firebase/Google Cloud Platform

## 🚀 Installation et Configuration

### 1. Cloner le projet

```bash
git clone <votre-repo>
cd java-rendu
```

### 2. Configuration Firebase (ÉTAPE OBLIGATOIRE)

⚠️ **L'application ne démarrera pas sans cette configuration !**

1. **Créer un projet Firebase :**

   - Aller sur [Firebase Console](https://console.firebase.google.com/)
   - Cliquer sur "Créer un projet"
   - Donner un nom à votre projet (ex: "recipe-app")

2. **Activer Firestore :**

   - Menu de gauche : "Firestore Database"
   - Cliquer sur "Créer une base de données"
   - Choisir "Commencer en mode test"

3. **Créer un Service Account :**

   - Aller dans Project Settings (⚙️) > Service Accounts
   - Cliquer sur "Generate new private key"
   - Télécharger le fichier JSON

4. **Configuration dans le projet :**
   - Renommer le fichier téléchargé en `service-account-key.json`
   - Le placer dans `src/main/resources/firebase/service-account-key.json`
   - **⚠️ REMPLACER** le fichier existant (qui est un placeholder vide)
   - Copier votre PROJECT-ID depuis Firebase Console  
   - Modifier `src/main/resources/application.yml` :
     ```yaml
     firebase:
       project-id: VOTRE_PROJECT_ID_ICI  # ⚠️ Remplacer cette ligne
     ```

### 🔥 IMPORTANT : Vérifications

Après configuration, vérifiez que :
- ✅ Le fichier `service-account-key.json` contient des vraies données JSON (pas un placeholder)
- ✅ Le `project-id` dans `application.yml` correspond exactement à celui de Firebase Console
- ✅ Le projet Firebase existe et Firestore est activé

### 3. Lancement de l'application

```bash
# Compiler le projet
mvn clean compile

# Lancer l'application
mvn spring-boot:run
```

L'application sera disponible sur : http://localhost:8080

### 4. Données de démonstration

Au premier lancement, l'application créera automatiquement :

- 4 utilisateurs de test (admin, chef_marie, patissier_paul, sophie_cuisine)
- 8 catégories (Entrées, Plats principaux, Desserts, etc.)
- 4 recettes d'exemple avec instructions complètes

## 🏗️ Structure du Projet

```
src/main/java/com/example/recipeapp/
├── RecipeAppApplication.java       # Classe principale
├── controller/                     # Controllers Web
│   ├── HomeController.java        # Page d'accueil et listes
│   ├── RecipeController.java      # Détails recettes
│   ├── CategoryController.java    # Détails catégories
│   ├── UserController.java        # Détails utilisateurs
│   └── api/                       # API REST
│       ├── RecipeApiController.java
│       ├── CategoryApiController.java
│       └── UserApiController.java
├── model/                         # Entités
│   ├── User.java                  # Modèle utilisateur
│   ├── Recipe.java                # Modèle recette (avec ingrédients, instructions)
│   └── Category.java              # Modèle catégorie
├── repository/                    # Repositories Firestore
│   ├── UserRepository.java
│   ├── RecipeRepository.java
│   └── CategoryRepository.java
├── service/                       # Services métier
│   ├── UserService.java           # Logique utilisateurs
│   ├── RecipeService.java         # Logique recettes
│   ├── CategoryService.java       # Logique catégories
│   └── DataInitializationService.java # Données de démo
└── config/                        # Configuration
    ├── FirestoreConfig.java       # Configuration Firestore
    └── PasswordConfig.java        # Encodage mots de passe

src/main/resources/
├── templates/                     # Templates Thymeleaf
│   ├── index.html                # Page d'accueil
│   ├── recipes/                  # Pages recettes
│   │   ├── list.html            # Liste des recettes
│   │   └── detail.html          # Détail d'une recette
│   ├── categories/              # Pages catégories
│   │   ├── list.html           # Liste des catégories
│   │   └── detail.html         # Détail d'une catégorie
│   ├── users/                  # Pages utilisateurs
│   │   ├── list.html          # Liste des utilisateurs
│   │   └── detail.html        # Profil utilisateur
│   └── error/                 # Pages d'erreur
│       ├── 404.html
│       └── 500.html
├── firebase/                   # Configuration Firebase
│   ├── README.md              # Instructions Firebase
│   └── service-account-key.json # ⚠️ À créer (voir instructions)
└── application.yml            # Configuration Spring
├── templates/                   # Templates Thymeleaf
├── static/                     # Ressources statiques
├── application.yml             # Configuration
└── firebase/                   # Clé de service Firebase
```

## 🎯 Fonctionnalités

### ✅ TOUTES LES FONCTIONNALITÉS IMPLÉMENTÉES

- [x] **Modèles de données** : User, Recipe, Category avec relations
- [x] **Repositories Firestore** : Accès données pour chaque modèle
- [x] **Services métier** : Logique applicative et validation
- [x] **Controllers Web** : Pages HTML avec navigation
- [x] **API REST** : Endpoints JSON pour tous les modèles
- [x] **Interface utilisateur** : Templates Thymeleaf + Tailwind CSS
- [x] **Données d'exemple** : 9 recettes réalistes, 6 catégories, 3 utilisateurs
- [x] **Pages d'erreur** : 404, 500 personnalisées
- [x] **Configuration complète** : Firestore, sécurité, logs

### 🚀 STATUS : PROJET TERMINÉ

**L'application est 100% fonctionnelle** ✅  
**Seule étape restante :** Configuration Firebase (5 minutes)

## 🛠️ Technologies Utilisées

- **Backend** : Spring Boot 3.1.2, Spring Security, Spring Web
- **Frontend** : Thymeleaf, Tailwind CSS
- **Base de données** : Google Firestore
- **Build** : Maven
- **Java** : 17

## 📝 Notes de Développement

Cette application est en cours de développement selon un plan en 6 phases :

1. ✅ Setup Initial
2. 🔄 Modèles et Repositories
3. 📋 Services et Controllers
4. 📋 Frontend
5. 📋 CRUD et API
6. 📋 Finalisation

Voir `PLAN_PROJET.md` pour plus de détails.

## 🚨 Points d'Attention

- Ne pas commiter le fichier `service-account-key.json` (ajouté au .gitignore)
- Configurer correctement le project-id Firebase
- Tester la connexion Firestore avant de continuer

## 📞 Contact

Projet développé dans le cadre d'un exercice SpringBoot avec Firestore.
