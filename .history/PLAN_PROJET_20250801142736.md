# Plan de Projet- [ ] **Mod√®les** : Au moins 2 mod√®les avec jointure (Users ‚Üî Recipes ‚Üî Categories)
- [ ] **Donn√©es initiales** : La base contient des donn√©es de test (utilisateurs, cat√©gories, recettes)
- [ ] **Routes d'affichage** : 
  - [ ] Liste des recettes (`/recipes`)
  - [ ] Liste des cat√©gories (`/categories`)  
  - [ ] Liste des utilisateurs (`/users`)
  - [ ] D√©tail d'une recette (`/recipes/1`)
  - [ ] D√©tail d'une cat√©gorie (`/categories/1`)
  - [ ] D√©tail d'un utilisateur (`/users/1`)ication SpringBoot avec Firestore

## üìã Informations du Projet

- **Date de cr√©ation** : 1 ao√ªt 2025
- **Type d'application** : Application de gestion de recettes de cuisine
- **Base de donn√©es** : Firestore (√† configurer)
- **Framework CSS** : Tailwind CSS
- **Fonctionnalit√©s** : CRUD + API REST

## üéØ Crit√®res √† Respecter

### Crit√®res Minimum (Obligatoires)

- [ ] **D√©marrage** : L'application d√©marre correctement
- [ ] **Base de donn√©es** : Connexion √† Firestore fonctionnelle
- [ ] **Mod√®les** : Au moins 2 mod√®les avec jointure (ex: Users ‚Üî Posts)
- [ ] **Donn√©es initiales** : La base contient des donn√©es de test
- [ ] **Routes d'affichage** :
  - [ ] Liste mod√®le 1 (ex: `/users`)
  - [ ] Liste mod√®le 2 (ex: `/posts`)
  - [ ] D√©tail mod√®le 1 (ex: `/users/1`)
  - [ ] D√©tail mod√®le 2 (ex: `/posts/1`)

### Crit√®res Facultatifs (Choisis)

- [ ] **Frontend** : Tailwind CSS int√©gr√© et utilis√© avec style magazine culinaire
- [ ] **CRUD** : Fonctions Create, Read, Update, Delete
- [ ] **API REST** : Endpoints REST fonctionnels
- [ ] **Authentification** : Syst√®me de connexion/inscription utilisateurs

## üèóÔ∏è Architecture Pr√©vue

### Structure du Projet

```
src/main/java/com/example/recipeapp/
‚îú‚îÄ‚îÄ config/          # Configuration Firestore
‚îú‚îÄ‚îÄ model/           # Entit√©s (User, Recipe, Category)
‚îú‚îÄ‚îÄ repository/      # Repositories Firestore
‚îú‚îÄ‚îÄ service/         # Services m√©tier
‚îú‚îÄ‚îÄ controller/      # Controllers REST + Web
‚îî‚îÄ‚îÄ dto/            # Data Transfer Objects

src/main/resources/
‚îú‚îÄ‚îÄ templates/       # Templates Thymeleaf
‚îú‚îÄ‚îÄ static/         # CSS, JS, images
‚îú‚îÄ‚îÄ application.yml # Configuration
‚îî‚îÄ‚îÄ firebase/       # Service account key
```

### Mod√®les de Donn√©es Pr√©vus

**User** (Utilisateur)
- id: String
- name: String
- email: String (unique)
- password: String (hash√©)
- role: String (USER, ADMIN)
- createdAt: LocalDateTime
- recipes: List<String> (IDs des recettes cr√©√©es)
- bio: String (optionnel)
- avatarUrl: String (optionnel)

**Recipe** (Recette)
- id: String
- title: String
- description: String
- ingredients: List<String>
- instructions: String
- preparationTime: Integer (en minutes)
- cookingTime: Integer (en minutes)
- servings: Integer
- difficulty: String (EASY, MEDIUM, HARD)
- categoryId: String (r√©f√©rence vers Category)
- authorId: String (r√©f√©rence vers User)
- createdAt: LocalDateTime
- imageUrl: String (optionnel)

**Category** (Cat√©gorie)
- id: String
- name: String
- description: String
- color: String (pour l'affichage)
- recipes: List<String> (IDs des recettes dans cette cat√©gorie)

**Relations** :
- User 1:N Recipe (un utilisateur peut cr√©er plusieurs recettes)
- Category 1:N Recipe (une cat√©gorie contient plusieurs recettes)
- Recipe N:1 User (une recette a un auteur)
- Recipe N:1 Category (une recette appartient √† une cat√©gorie)

## üìù Plan d'Ex√©cution

### Phase 1 : Setup Initial

- [ ] Cr√©ation projet Firebase et configuration Firestore
- [ ] G√©n√©ration service account key
- [ ] Initialisation projet SpringBoot
- [ ] Configuration d√©pendances (Spring Web, Thymeleaf, Firestore, etc.)
- [ ] Configuration Firestore dans application.yml
- [ ] Structure de base du projet
- [ ] Test de connexion Firestore

### Phase 2 : Mod√®les et Repositories

- [ ] Cr√©ation des mod√®les User, Recipe, Category
- [ ] Impl√©mentation des repositories Firestore pour chaque mod√®le
- [ ] Tests de connexion base de donn√©es
- [ ] Gestion des relations entre mod√®les

### Phase 3 : Services et Controllers

- [ ] Impl√©mentation des services m√©tier
- [ ] Controllers pour les vues web
- [ ] Controllers pour l'API REST

### Phase 4 : Frontend

- [ ] Templates Thymeleaf pour les recettes
- [ ] Templates pour les cat√©gories et utilisateurs
- [ ] Int√©gration Tailwind CSS
- [ ] Pages de liste et d√©tail avec design responsive
- [ ] Formulaires d'ajout/modification styl√©s

### Phase 5 : CRUD et API

- [ ] Fonctionnalit√©s CRUD compl√®tes
- [ ] Endpoints API REST
- [ ] Tests des fonctionnalit√©s

### Phase 6 : Finalisation

- [ ] Donn√©es initiales (utilisateurs, cat√©gories, recettes de test)
- [ ] Documentation README avec instructions Firebase
- [ ] Tests finaux de toutes les fonctionnalit√©s
- [ ] Pr√©paration repository Git avec .gitignore adapt√©

## üîß Technologies et D√©pendances

### SpringBoot Dependencies

- spring-boot-starter-web
- spring-boot-starter-thymeleaf
- spring-boot-starter-security (pour l'authentification)
- google-cloud-firestore
- spring-boot-starter-validation
- spring-boot-devtools
- bcrypt (pour le hashage des mots de passe)

### Frontend

- Tailwind CSS (via CDN ou build)

## üìö Ressources et Notes

### Questions en Attente

1. ~~Type d'application choisi ?~~ ‚úÖ Application de recettes de cuisine
2. ~~D√©finition pr√©cise des 2 mod√®les ?~~ ‚úÖ User, Recipe, Category avec relations
3. ~~Configuration Firestore existante ?~~ ‚úÖ √Ä cr√©er from scratch

### Choix Valid√©s

1. ~~**Niveau de complexit√© souhait√©** pour les recettes ?~~ ‚úÖ **Avanc√©** (temps, difficult√©, portions, photos)
2. **Fonctionnalit√©s suppl√©mentaires** : ‚úÖ **Syst√®me de connexion/authentification**
3. ~~**Interface utilisateur**~~ ‚úÖ **Style magazine culinaire color√©**

### Points d'Attention

- Configuration correcte des credentials Firestore (service account key)
- Gestion des relations entre mod√®les dans Firestore (NoSQL - r√©f√©rences par ID)
- Structure des URLs REST coh√©rente (/api/recipes, /api/categories, /api/users)
- Responsive design avec Tailwind pour une exp√©rience mobile optimale
- S√©curisation du service account key (pas dans le repository Git)
- Validation des donn√©es (ingr√©dients, temps de cuisson, etc.)
- Gestion des images de recettes (optionnel, peut utiliser des URLs externes)

## üöÄ √âtat d'Avancement

**Phase actuelle** : Phase 2-3 - Mod√®les, Services et Controllers ‚úÖ
**Prochaine √©tape** : Configuration Firebase et test complet

### ‚úÖ Termin√© :
- **Planification** : Sujet, mod√®les, relations, crit√®res d√©finis
- **Setup Initial** : Structure SpringBoot, d√©pendances, configuration de base
- **Mod√®les** : User, Recipe, Category complets avec validations et relations
- **Repositories** : UserRepository, CategoryRepository, RecipeRepository avec m√©thodes CRUD
- **Services** : UserService, CategoryService, RecipeService avec logique m√©tier compl√®te
- **Configuration** : FirestoreConfig, PasswordConfig, DataInitializationService
- **Controllers Web** : HomeController, RecipeController, CategoryController, UserController
- **API REST** : RecipeApiController, CategoryApiController, UserApiController (endpoints complets)
- **Templates** : Pages de d√©tail pour recettes, cat√©gories, utilisateurs + pages d'erreur
- **Compilation** : Projet compile sans erreur ‚úÖ

### üîÑ En cours :
- **Configuration Firebase** : Cr√©ation du projet et configuration des credentials

### ‚è≥ √Ä faire :
- Cr√©er le projet Firebase et configurer Firestore
- Placer le fichier service-account-key.json dans `src/main/resources/firebase/`
- Configurer l'ID du projet dans application.yml
- Tester le d√©marrage complet avec Firestore
- Finaliser les templates de listes (am√©liorer recipes/list.html, categories/list.html, users/list.html)
- Ajouter l'authentification Spring Security (optionnel)
- Tests finaux et documentation

### üìù Instructions Firebase
Consultez le fichier `src/main/resources/firebase/README.md` pour les instructions d√©taill√©es de configuration Firebase.

---

_Ce fichier sera mis √† jour au fur et √† mesure de l'avancement du projet._
